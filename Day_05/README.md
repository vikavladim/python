# Содержание

- [Упражнение 00: Поверь мне только один раз](#упражнение-00-поверь-мне-только-один-раз)
- [Упражнение 01: Песня отвёртки](#упражнение-01-песня-отвёртки)
- [Упражнение 02: Хорошее временное управление](#упражнение-02-хорошее-временное-управление)

# Упражнение 00: Поверь мне только один раз

## Задача

Ваша задача - реализовать WSGI-сервер с оберткой HTTP без использования внешних зависимостей. Он должен прослушивать
локальный порт 8888 и анализировать параметры GET из URL, для любого заданного названия вида расы возвращать JSON.

## Требования

* Сервер должен прослушивать локальный порт 8888
* Сервер должен анализировать параметры GET из URL
* Сервер должен возвращать JSON с соответствующими учетными данными для заданной расы
* Если раса не найдена, сервер должен возвращать JSON с сообщением "Unknown"
* Если параметр `species` не передан, сервер должен возвращать JSON с сообщением об ошибке "No species provided"

## Пример использования

```bash
~$ curl http://127.0.0.1:8888/?species=Time%20Lord
{"credentials": "Rassilon"}
```

## Ожидаемый результат

Сервер должен вернуть JSON с соответствующими учетными данными для заданной расы. Если раса не найдена, сервер должен
вернуть JSON с сообщением "Unknown". Если параметр `species` не передан, сервер должен вернуть JSON с сообщением об
ошибке "No species provided".

# Упражнение 01: Песня отвёртки

### Первый шаг, сервер.

Он не должен использовать никакую базу данных, просто хранение файлов на диске вполне подойдет. Веб-интерфейс должен
работать на порту 8888. Когда он открывается, веб-страница должна показывать список звуковых файлов, уже загруженных, а
также кнопку для загрузки еще одного. Как пользователь, вы должны иметь возможность кликнуть на эту кнопку, загрузить
файл на сервер, и он должен появиться в списке файлов, показанных на веб-странице.

Кроме того, сервер должен выполнять проверку типа MIME, чтобы только аудиофайлы были приняты (например, `mp3`, `ogg` и
`wav`). Если загружен неаудиофайл (например, `jpg`, `exe` или `docx`), он должен быть отброшен, и веб-страница должна
показать сообщение "Обнаружен неаудиофайл".

За некоторую бонусную награду вы можете реализовать воспроизведение загруженных звуковых файлов прямо из веб-страницы.

На этот раз вы не ограничены встроенным WSGI-сервером, поэтому рекомендуется использовать
либо [Flask](https://flask.palletsprojects.com/) либо [Django](https://www.djangoproject.com/) фреймворк для этой
задачи, хотя это не является строгим требованием. Не забудьте добавить любые сторонние зависимости, которые вы
использовали, в файл `requirements.txt`. Пожалуйста, также включите файл `README` с объяснением, как запустить
HTTP-сервер (он должен содержать конкретную команду для запуска).

### Второй шаг, клиент.

Он должен быть командной строкой приложением с двумя возможными действиями:

- `python screwdriver.py upload /path/to/file.mp3` должен загрузить локальный аудиофайл `/path/to/file.mp3` на сервер
- `python screwdriver.py list` должен получить и вывести имена всех файлов, в настоящее время находящихся на сервере.

Все клиент-серверные взаимодействия должны использовать HTTP. Рекомендуется (хотя это не является строгим требованием)
использовать либо [Requests](https://docs.python-requests.org/en/latest/) либо [HTTPX](https://www.python-httpx.org/)
библиотеку для выполнения HTTP-запросов.

# Упражнение 02: Хорошее временное управление

### Задача: Синхронизация действий 5 непредсказуемых потоков (Докторов) для выполнения задачи с использованием 2 отвёрток.

**Условия:**

* Каждый Доктор имеет 1 отвёртку.
* Требуется минимум 2 отвёртки для выполнения задачи.
* Доктора могут забрать отвёртку у другого Доктора слева.
* Доктора нумеруются от 9 до 13.

**Задача:** Реализовать классы Докторов и отвёрток на Python, чтобы обеспечить синхронизацию действий и выполнение
задачи.
Выходной результат вашей многопоточной программы должен выглядеть следующим образом:

``` bash
Doctor 11: BLAST!
Doctor 9: BLAST!
Doctor 12: BLAST!
Doctor 10: BLAST!
Doctor 13: BLAST!
```

Порядок может меняться на каждом запуске, потому что все Доктора (потоки) будут соревноваться за следующий ход, чтобы
забрать два винтовых ключа. Код должен быть в файле `doctors.py`.

- [Параллелизм](https://realpython.com/python-concurrency/)
- [Примитивы синхронизации в Python](https://hackernoon.com/synchronization-primitives-in-python-564f89fee732)
- [Философы](https://en.wikipedia.org/wiki/Dining_philosophers_problem)
